var BSON, Db, assert, log, mongo, mongoUri, util;
mongo = require('mongodb');
Db = mongo.Db;
BSON = mongo.BSONPure;
mongoUri = 'mongodb://localhost/mongo_test';
assert = require('power-assert');
util = require('util');
log = function (obj) {
    return console.log(util.inspect(obj, false, null));
};
describe('insert Tests', function () {
    var coll, db, json;
    db = null;
    coll = null;
    json = null;
    before(function (done) {
        return Db.connect(mongoUri, function (err, DB) {
            db = DB;
            db.dropCollection('testCollection');
            db.close();
            return done();
        });
    });
    beforeEach(function (done) {
        return Db.connect(mongoUri, function (err, DB) {
            db = DB;
            return db.collection('testCollection', function (err, collection) {
                coll = collection;
                return done();
            });
        });
    });
    afterEach(function (done) {
        return db.dropCollection('testCollection', function (err, result) {
            db.close();
            return done();
        });
    });
    return describe('insert', function () {
        it('insert\u306E\u7B2C\u4E00\u5F15\u6570\u306Bobject\u3092\u6E21\u3059\u3068insert\u3067\u304D\u308B\u3002\u518D\u5EA6\u540C\u3058object\u3092\u6E21\u3057\u3066\u3082insert\u3067\u304D\u308B', function (done) {
            return coll.insert({ name: 'taro' }, function (err, result) {
                assert(assert._expr(assert._capt(assert._capt(err, 'arguments/0/left') === null, 'arguments/0'), {
                    content: 'assert(err === null)',
                    filepath: 'test/insertTest.js',
                    line: 56
                }));
                return coll.insert({ name: 'taro' }, function (err, result) {
                    assert(assert._expr(assert._capt(assert._capt(err, 'arguments/0/left') === null, 'arguments/0'), {
                        content: 'assert(err === null)',
                        filepath: 'test/insertTest.js',
                        line: 60
                    }));
                    return coll.find().toArray(function (err, items) {
                        assert(assert._expr(assert._capt(assert._capt(assert._capt(items, 'arguments/0/left/object').length, 'arguments/0/left') === 2, 'arguments/0'), {
                            content: 'assert(items.length === 2)',
                            filepath: 'test/insertTest.js',
                            line: 62
                        }));
                        return done();
                    });
                });
            });
        });
        it('object\u3092\u5909\u6570\u5316\u3057\u3066insert\u3059\u308B\u30682\u56DE\u3081\u3067\u5931\u6557\u3059\u308B', function (done) {
            json = { name: 'taro' };
            return coll.insert(json, function (err, result) {
                assert(assert._expr(assert._capt(assert._capt(err, 'arguments/0/left') === null, 'arguments/0'), {
                    content: 'assert(err === null)',
                    filepath: 'test/insertTest.js',
                    line: 73
                }));
                coll.insert(json, function (err, result) {
                    return assert(assert._expr(assert._capt(err, 'arguments/0'), {
                        content: 'assert(err)',
                        filepath: 'test/insertTest.js',
                        line: 75
                    }));
                });
                return done();
            });
        });
        return it('\u5909\u6570\u5316\u3057\u305Fjson\u306B\u306Finsert\u3057\u305F\u30BF\u30A4\u30DF\u30F3\u30B0\u3067_id\u304C\u4ED8\u4E0E\u3055\u308C\u3066\u3044\u308B', function (done) {
            json = { name: 'taro' };
            assert(assert._expr(assert._capt(assert._capt(assert._capt(json, 'arguments/0/left/object')._id, 'arguments/0/left') === assert._capt(void 0, 'arguments/0/right'), 'arguments/0'), {
                content: 'assert(json._id === void 0)',
                filepath: 'test/insertTest.js',
                line: 84
            }));
            return coll.insert(json, function (err, result) {
                assert(assert._expr(assert._capt(assert._capt(json, 'arguments/0/object')._id, 'arguments/0'), {
                    content: 'assert(json._id)',
                    filepath: 'test/insertTest.js',
                    line: 86
                }));
                return done();
            });
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvaW5zZXJ0VGVzdC5qcyJdLCJuYW1lcyI6WyJCU09OIiwiRGIiLCJhc3NlcnQiLCJsb2ciLCJtb25nbyIsIm1vbmdvVXJpIiwidXRpbCIsInJlcXVpcmUiLCJCU09OUHVyZSIsIm9iaiIsImNvbnNvbGUiLCJpbnNwZWN0IiwiZGVzY3JpYmUiLCJjb2xsIiwiZGIiLCJqc29uIiwiYmVmb3JlIiwiZG9uZSIsImNvbm5lY3QiLCJlcnIiLCJEQiIsImRyb3BDb2xsZWN0aW9uIiwiY2xvc2UiLCJiZWZvcmVFYWNoIiwiY29sbGVjdGlvbiIsImFmdGVyRWFjaCIsInJlc3VsdCIsIml0IiwiaW5zZXJ0IiwibmFtZSIsIl9leHByIiwiX2NhcHQiLCJjb250ZW50IiwiZmlsZXBhdGgiLCJsaW5lIiwiZmluZCIsInRvQXJyYXkiLCJpdGVtcyIsImxlbmd0aCIsIl9pZCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsSUFBSixFQUFVQyxFQUFWLEVBQWNDLE1BQWQsRUFBc0JDLEdBQXRCLEVBQTJCQyxLQUEzQixFQUFrQ0MsUUFBbEMsRUFBNENDLElBQTVDO0FBRUFGLEtBQUEsR0FBUUcsT0FBQSxDQUFRLFNBQVIsQ0FBUixDQUZBO0FBSUFOLEVBQUEsR0FBS0csS0FBQSxDQUFNSCxFQUFYLENBSkE7QUFNQUQsSUFBQSxHQUFPSSxLQUFBLENBQU1JLFFBQWIsQ0FOQTtBQVFBSCxRQUFBLEdBQVcsZ0NBQVgsQ0FSQTtBQVVBSCxNQUFBLEdBQVNLLE9BQUEsQ0FBUSxjQUFSLENBQVQsQ0FWQTtBQVlBRCxJQUFBLEdBQU9DLE9BQUEsQ0FBUSxNQUFSLENBQVAsQ0FaQTtBQWNBSixHQUFBLEdBQU0sVUFBU00sR0FBVCxFQUFjO0FBQUEsSUFDbEIsT0FBT0MsT0FBQSxDQUFRUCxHQUFSLENBQVlHLElBQUEsQ0FBS0ssT0FBTCxDQUFhRixHQUFiLEVBQWtCLEtBQWxCLEVBQXlCLElBQXpCLENBQVosQ0FBUCxDQURrQjtBQUFBLENBQXBCLENBZEE7QUFrQkFHLFFBQUEsQ0FB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Z28sIG1vbmdvVXJpLCB1dGlsO1xuXG5tb25nbyA9IHJlcXVpcmUoXCJtb25nb2RiXCIpO1xuXG5EYiA9IG1vbmdvLkRiO1xuXG5CU09OID0gbW9uZ28uQlNPTlB1cmU7XG5cbm1vbmdvVXJpID0gXCJtb25nb2RiOi8vbG9jYWxob3N0L21vbmdvX3Rlc3RcIjtcblxuYXNzZXJ0ID0gcmVxdWlyZSgncG93ZXItYXNzZXJ0Jyk7XG5cbnV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG5cbmxvZyA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gY29uc29sZS5sb2codXRpbC5pbnNwZWN0KG9iaiwgZmFsc2UsIG51bGwpKTtcbn07XG5cbmRlc2NyaWJlKFwiaW5zZXJ0IFRlc3RzXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgY29sbCwgZGIsIGpzb247XG4gIGRiID0gbnVsbDtcbiAgY29sbCA9IG51bGw7XG4gIGpzb24gPSBudWxsO1xuICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgIHJldHVybiBEYi5jb25uZWN0KG1vbmdvVXJpLCBmdW5jdGlvbihlcnIsIERCKSB7XG4gICAgICBkYiA9IERCO1xuICAgICAgZGIuZHJvcENvbGxlY3Rpb24oJ3Rlc3RDb2xsZWN0aW9uJyk7XG4gICAgICBkYi5jbG9zZSgpO1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9KTtcbiAgfSk7XG4gIGJlZm9yZUVhY2goZnVuY3Rpb24oZG9uZSkge1xuICAgIHJldHVybiBEYi5jb25uZWN0KG1vbmdvVXJpLCBmdW5jdGlvbihlcnIsIERCKSB7XG4gICAgICBkYiA9IERCO1xuICAgICAgcmV0dXJuIGRiLmNvbGxlY3Rpb24oJ3Rlc3RDb2xsZWN0aW9uJywgZnVuY3Rpb24oZXJyLCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGNvbGwgPSBjb2xsZWN0aW9uO1xuICAgICAgICByZXR1cm4gZG9uZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBhZnRlckVhY2goZnVuY3Rpb24oZG9uZSkge1xuICAgIHJldHVybiBkYi5kcm9wQ29sbGVjdGlvbigndGVzdENvbGxlY3Rpb24nLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgZGIuY2xvc2UoKTtcbiAgICAgIHJldHVybiBkb25lKCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZGVzY3JpYmUoXCJpbnNlcnRcIiwgZnVuY3Rpb24oKSB7XG5cbiAgICAvKlxuICAgIGluc2VydChkb2NzWywgb3B0aW9uc11bLCBjYWxsYmFja10pXG4gICAgICovXG4gICAgaXQoXCJpbnNlcnTjga7nrKzkuIDlvJXmlbDjgatvYmplY3TjgpLmuKHjgZnjgahpbnNlcnTjgafjgY3jgovjgILlho3luqblkIzjgZhvYmplY3TjgpLmuKHjgZfjgabjgoJpbnNlcnTjgafjgY3jgotcIiwgZnVuY3Rpb24oZG9uZSkge1xuICAgICAgcmV0dXJuIGNvbGwuaW5zZXJ0KHtcbiAgICAgICAgbmFtZTogJ3Rhcm8nXG4gICAgICB9LCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgICBhc3NlcnQoZXJyID09PSBudWxsKTtcbiAgICAgICAgcmV0dXJuIGNvbGwuaW5zZXJ0KHtcbiAgICAgICAgICBuYW1lOiAndGFybydcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICBhc3NlcnQoZXJyID09PSBudWxsKTtcbiAgICAgICAgICByZXR1cm4gY29sbC5maW5kKCkudG9BcnJheShmdW5jdGlvbihlcnIsIGl0ZW1zKSB7XG4gICAgICAgICAgICBhc3NlcnQoaXRlbXMubGVuZ3RoID09PSAyKTtcbiAgICAgICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoXCJvYmplY3TjgpLlpInmlbDljJbjgZfjgaZpbnNlcnTjgZnjgovjgagy5Zue44KB44Gn5aSx5pWX44GZ44KLXCIsIGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgIGpzb24gPSB7XG4gICAgICAgIG5hbWU6ICd0YXJvJ1xuICAgICAgfTtcbiAgICAgIHJldHVybiBjb2xsLmluc2VydChqc29uLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgICBhc3NlcnQoZXJyID09PSBudWxsKTtcbiAgICAgICAgY29sbC5pbnNlcnQoanNvbiwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gYXNzZXJ0KGVycik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZG9uZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGl0KFwi5aSJ5pWw5YyW44GX44GfanNvbuOBq+OBr2luc2VydOOBl+OBn+OCv+OCpOODn+ODs+OCsOOBp19pZOOBjOS7mOS4juOBleOCjOOBpuOBhOOCi1wiLCBmdW5jdGlvbihkb25lKSB7XG4gICAgICBqc29uID0ge1xuICAgICAgICBuYW1lOiAndGFybydcbiAgICAgIH07XG4gICAgICBhc3NlcnQoanNvbi5faWQgPT09IHZvaWQgMCk7XG4gICAgICByZXR1cm4gY29sbC5pbnNlcnQoanNvbiwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICAgYXNzZXJ0KGpzb24uX2lkKTtcbiAgICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19
